<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- site title -->
	<title>Inventory Management System</title>

	<!-- fontawesome css -->
	<link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>

	<!-- bootstrap css -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">

	<!-- data table css -->
	<link rel="stylesheet" type="text/css" href="../../plugins/dataTables/dataTables.min.css">

	<!-- Select2 -->
	<link rel="stylesheet" type="text/css" href="../../plugins/select2/css/select2.min.css">
 	
 	<!-- toastr css -->
 	<link rel="stylesheet" type="text/css" href="../../plugins/toastr/toastr.min.css">

	

	<!-- theme style -->
	<link rel="stylesheet" type="text/css" href="../../css/main.css">

	<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>
<body>


		<!-- start navigation -->
	<div class="navigation">
		<ul>
			<li>
				<a href="#">
					<span class="icon"><i class="fa fa-home"></i></span>
					<span class="title">Deshboard</span>
				</a>
			</li>

			<li>
				<a href="#" class="productBtn" onclick="productToggle()">
					<span class="icon"><i class="fa fa-store"></i></span>
					<span class="title">Product</span>
				</a>
				<ul class="showProductMenu">
					<li><a href="#">Add Product</a></li>
					<li><a href="#">View Product</a></li>
					<li><a href="#">Report</a></li>
				</ul>
			</li>

			<li>
				<a href="#" class="categoryBtn" onclick="categoryToggle()">
					<span class="icon"><i class="fa fa-question-circle"></i></span>
					<span class="title">Category</span>
				</a>
				<ul class="showCategoryMenu">
					<li><a href="#">Add Category</a></li>
					<li><a href="#">View Category</a></li>
					<li><a href="#">Report</a></li>
				</ul>
			</li>

			<li>
				<a href="#" class="supplierBtn" onclick="supplierToggle()">
					<span class="icon"><i class="fa fa-user"></i></span>
					<span class="title">Supplier</span>
				</a>
				<ul class="showSupplierMenu">
					<li><a href="#">Add Supplier</a></li>
					<li><a href="#">View Supplier</a></li>
					<li><a href="#">Report</a></li>
				</ul>
			</li>
			<li>
				<a href="#" class="customerBtn" onclick="customerToggle()">
					<span class="icon"><i class="fa fa-users"></i></span>
					<span class="title">Customer</span>
				</a>
				<ul class="showCustomerMenu">
					<li><a href="#">Add Customer</a></li>
					<li><a href="#">View Customer</a></li>
					<li><a href="#">Report</a></li>
				</ul>
			</li>
			<li>
				<a href="#" class="perchaseBtn" onclick="perchaseToggle()">
					<span class="icon"><i class="fa fa-shopping-cart"></i></span>
					<span class="title">Perchase</span>
				</a>
				<ul class="showPerchaseMenu">
					<li><a href="#">Add Perchase</a></li>
					<li><a href="#">View Perchase</a></li>
					<li><a href="#">Report</a></li>
				</ul>
			</li>
			<li>
				<a href="#" class="invoiceBtn" onclick="invoiceToggle()">
					<span class="icon"><i class="fa fa-file-invoice"></i></span>
					<span class="title">Invoice</span>
				</a>
				<ul class="showInvoiceMenu">
					<li><a href="#">Add Invoice</a></li>
					<li><a href="#">View Invoice</a></li>
					<li><a href="#">Report</a></li>
				</ul>
			</li>
			<li>
				<a href="#" class="stockBtn" onclick="stockToggle()">
					<span class="icon"><i class="fa fa-lock"></i></span>
					<span class="title">Stock</span>
				</a>
				<ul class="showStockMenu">
					<li><a href="#">Stock Report</a></li>
					<li><a href="#">Supplier Wise</a></li>
					<li><a href="#">Product Wise</a></li>
				</ul>
			</li>
			<li>
				<a href="#" class="reportBtn" onclick="reportToggle()">
					<span class="icon"><i class="fa fa-question-circle"></i></span>
					<span class="title">Report</span>
				</a>
				<ul class="showReportMenu">
					<li><a href="#">Purchase Report</a></li>
					<li><a href="#">Sales Report</a></li>
					<li><a href="#">Profit Report</a></li>
					<li><a href="#">Today's Report</a></li>
				</ul>
			</li>

			<li>
				<a href="#" class="tableBtn" onclick="tableToggle()">
					<span class="icon"><i class="fa fa-lock"></i></span>
					<span class="title">Pricing Table</span>
				</a>
				<ul class="showTableMenu">
					<li><a href="#">Demo-1</a></li>
					<li><a href="#">Demo-2</a></li>
				</ul>
			</li>

			<li>
				<a href="#" class="loginBtn" onclick="loginToggle()">
					<span class="icon"><i class="fa fa-lock"></i></span>
					<span class="title">Login page</span>
				</a>
				<ul class="showLoginMenu">
					<li><a href="#">Demo-1</a></li>
					<li><a href="#">Demo-2</a></li>
				</ul>
			</li>

			<li>
				<a href="#">
					<span class="icon"><i class="fa fa-sign-out"></i></span>
					<span class="title">Sign Out</span>
				</a>
			</li>
		</ul>
	</div>
	<script type="text/javascript">
		// dropdown menu active script
		function productToggle(){
			let btn = document.querySelector('.productBtn');
			let showProductMenu = document.querySelector('.showProductMenu');
			btn.classList.toggle('active');
			showProductMenu.classList.toggle('active');
		}
		function categoryToggle(){
			let btn = document.querySelector('.categoryBtn');
			let showCategoryMenu = document.querySelector('.showCategoryMenu');
			btn.classList.toggle('active');
			showCategoryMenu.classList.toggle('active');
		}
		function supplierToggle(){
			let btn = document.querySelector('.supplierBtn');
			let showSupplierMenu = document.querySelector('.showSupplierMenu');
			btn.classList.toggle('active');
			showSupplierMenu.classList.toggle('active');
		}
		function customerToggle(){
			let btn = document.querySelector('.customerBtn');
			let showCustomerMenu = document.querySelector('.showCustomerMenu');
			btn.classList.toggle('active');
			showCustomerMenu.classList.toggle('active');
		}
		function perchaseToggle(){
			let btn = document.querySelector('.perchaseBtn');
			let showPerchaseMenu = document.querySelector('.showPerchaseMenu');
			btn.classList.toggle('active');
			showPerchaseMenu.classList.toggle('active');
		}
		function invoiceToggle(){
			let btn = document.querySelector('.invoiceBtn');
			let showInvoiceMenu = document.querySelector('.showInvoiceMenu');
			btn.classList.toggle('active');
			showInvoiceMenu.classList.toggle('active');
		}
		function stockToggle(){
			let btn = document.querySelector('.stockBtn');
			let showStockMenu = document.querySelector('.showStockMenu');
			btn.classList.toggle('active');
			showStockMenu.classList.toggle('active');
		}
		function reportToggle(){
			let btn = document.querySelector('.reportBtn');
			let showReportMenu = document.querySelector('.showReportMenu');
			btn.classList.toggle('active');
			showReportMenu.classList.toggle('active');
		}
		function tableToggle(){
			let btn = document.querySelector('.tableBtn');
			let showTableMenu = document.querySelector('.showTableMenu');
			btn.classList.toggle('active');
			showTableMenu.classList.toggle('active');
		}
		function loginToggle(){
			let btn = document.querySelector('.loginBtn');
			let showLoginMenu = document.querySelector('.showLoginMenu');
			btn.classList.toggle('active');
			showLoginMenu.classList.toggle('active');
		}
	</script>
	<!-- start navigation -->



	
	<!-- template main seciton -->
	<section class="main_section">

		<!-- start header section -->
		<header class="header_section">
			<div class="container-fluid">
				<div class="row">
					<div class="col-lg-12 col-md-12">
						<div class="header">
							<h2>Inventory Management System</h2>
							<div class="header_right">
								<div class="dropdown">
								  	<p id="dropdownMenu2" data-bs-toggle="dropdown" aria-expanded="false">
										<i class="far fa-envelope"></i>
										<sup><span class="badge bg-success">4</span></sup>
									</p>
								  <ul class="dropdown-menu" aria-labelledby="dropdownMenu2">
								    <li><button class="dropdown-item" type="button">Action</button></li>
								    <li><button class="dropdown-item" type="button">Another action</button></li>
								    <li><button class="dropdown-item" type="button">Something else here</button></li>
								  </ul>
								</div>

								<div class="dropdown">
								  	<p id="dropdownMenu2" data-bs-toggle="dropdown" aria-expanded="false">
										<i class="far fa-bell"></i>
										<sup><span class="badge bg-danger">4</span></sup>
									</p>
								  <ul class="dropdown-menu" aria-labelledby="dropdownMenu2">
								    <li><button class="dropdown-item" type="button">Action</button></li>
								    <li><button class="dropdown-item" type="button">Another action</button></li>
								    <li><button class="dropdown-item" type="button">Something else here</button></li>
								  </ul>
								</div>

								<div class="dropdown">
								  	<p id="dropdownMenu2" data-bs-toggle="dropdown" aria-expanded="false">
										<i class="far fa-flag"></i>
										<sup><span class="badge bg-primary">4</span></sup>
									</p>
								  <ul class="dropdown-menu" aria-labelledby="dropdownMenu2">
								    <li><button class="dropdown-item" type="button">Action</button></li>
								    <li><button class="dropdown-item" type="button">Another action</button></li>
								    <li><button class="dropdown-item" type="button">Something else here</button></li>
								  </ul>
								</div>

								<div class="dropdown">
									<div class="profile" id="dropdownMenu2" data-bs-toggle="dropdown" aria-expanded="false">
										<img src="../../images/avatar.jpg" alt="profile image">
										<p>Md. Masud Rana</p>
									</div>
								  <ul class="dropdown-menu" aria-labelledby="dropdownMenu2">
								    <li><button class="dropdown-item" type="button">Profile</button></li>
								    <li><button class="dropdown-item" type="button">Another action</button></li>
								    <li><button class="dropdown-item" type="button">Sign Out</button></li>
								  </ul>
								</div>

								<div class="toggle" onclick="toggleMenu()"></div>

							</div> <!-- .header_right end -->
						</div> <!-- .header end -->		
					</div>
				</div>
			</div>
		</header> <!-- .header_section end -->
		<!-- end header section -->


		<!-- content section -->
		<section class="content" style="min-height: 500px;">
			<div class="container-fluid">

				<!-- Breadcrumb -->
				<div class="row">
					<div class="col-lg-12 col-md-12">
						<div class="dashboard_header">
							<h2>Invoice</h2>
							<nav aria-label="breadcrumb">
							  <ol class="breadcrumb">
							  	<li class="breadcrumb-item"><a href="#"><i class="fa fa-home"></i></a></li>
							    <li class="breadcrumb-item"><a href="#">Home</a></li>
							    <li class="breadcrumb-item active" aria-current="page">Library</li>
							  </ol>
							</nav>
						</div>
					</div>
				</div>

				<div class="row" style="margin: 15px 0px">
					<div class="col-lg-12 col-md-12">
						<div class="card">
							<div class="card-header d-flex justify-content-between align-items-center">
					            <p>Add Invoice</p>
					            <a href="view-invoice.html" class="btn btn-success btn-sm"><i class="fa fa-list"></i> Invoice List</a>
					        </div>
					        <!-- /.card-header -->
					          <div class="card-body">
					            <div class="row">
					              <div class="col-lg-2 col-md-2 col-sm-12 form-group mb-4">
					                <label for="invoice_no">InvoiceNo</label>
					                <input type="text" name="invoice_no" value="1" class="form-control" id="invoice_no" readonly style="background: #D8FDBA">
					              </div>
					              <div class="col-lg-2 col-md-2 col-sm-12 form-group mb-4">
					                <label for="date">Date</label>
					                <input type="date" name="date" class="form-control" id="date" >
					              </div>
					              <div class="col-lg-3 col-md-3 col-sm-12 form-group mb-4">
					                <label for="invoiceCategory">Category</label>
					                <select id="invoiceCategory" class="form-control select2" name="invoiceCategory">
					                  	<option value="">Select Category</option>
					                    <option>T-shart</option>	 
										<option>Polo T-shart</option>	 
										<option>Computer</option>	 
										<option>Electronics</option>		 
										<option>Beauty</option>	 
										<option>Jowelry	</option> 
										<option>Food</option>
					                </select>
					              </div>
					              <div class="col-lg-3 col-md-3 col-sm-12 form-group mb-4">
					                <label for="invoiceProduct">Product</label>
					                <select id="invoiceProduct" class="form-control select2" name="invoiceProduct">
					                  <option value="">Select Product</option>
					                  <option>T-shart</option>
					                  <option>Laptop</option>
					                  <option>Desktop</option>
					                  <option>Keyboard</option>
					                  <option>Monitor</option>
					                  <option>RAM</option>
					                  <option>Motherboard</option>
					                </select>
					              </div>
					              <div class="col-lg-1 col-md-1 col-sm-12 form-group mb-4">
					                <label >Stock(Pics/Kg)</label>
					                <input type="text" name="current_stock_qty" value="50"  class="form-control" id="current_stock_qty" readonly style="background: #D8FDBA">
					              </div>
					              <div class="col-lg-1 col-md-1 col-sm-12 form-group mb-4" style="padding-top:24px;">
					                <a class="btn btn-primary btn-sm addeventmore"><i class="fa fa-plus-circle"></i> Add</a>
					              </div>
					            </div>
					          </div>
					          <!-- /.card-body -->

					          <div class="card-body">
					            <form action="#" method="post" id="myForm">
					               <table class="table-sm table-bordered" width="100%">
					                  <thead>
					                    <tr>
					                      <th>Category</th>
					                      <th>Product Name</th>
					                      <th width="7%">Pcs/Kg</th>
					                      <th width="10%">Unit Price</th>
					                      <th width="17%">Total Price</th>
					                      <th>Action</th>
					                    </tr>
					                  </thead>
					                  <tbody id="addRow" class="addRow">
					                    
					                  </tbody>
					                  <tbody>
					                    <tr>
					                      <td colspan="4" align="right">Discount: </td>
					                      <td>
					                        <input type="number" name="discount_amount" class="form-control form-control-sm text-right" id="discount_amount" placeholder="Enter Discount Amount">
					                      </td>
					                      <td></td>
					                    </tr>
					                    <tr>
					                      <td colspan="4"></td>
					                      <td>
					                        <input type="text" name="estimated_amount" value="0" id="estimated_amount" class="form-control form-control-sm text-right estimated_amount" readonly style="background: #D8FDBA">
					                      </td>
					                      <td></td>
					                    </tr>
					                  </tbody> 
					               </table>
					               <br>
					               <div class="form-row mb-4">
					                 <div class="form-group col-md-12">
					                   <textarea class="form-control" name="description" id="description" placeholder="Write Description Here..."></textarea>
					                 </div>
					               </div>
					               <br>
					               <div class="row">
					                 <div class="form-group col-lg-3 col-md-12 col-sm-12  mb-4">
					                    <label>Paid Status</label>
					                    <select name="paid_status" id="paid_status" class="form-control form-control-sm">
					                      <option value="">Select Status</option>
					                      <option value="Full_Paid">Full Paid</option>
					                      <option value="Full_Due">Full Due</option>
					                      <option value="Partical_Paid">Partical Paid</option>
					                    </select>
					                    <input type="number" name="paid_amount" class="form-control form-control-sm paid_amount" id="paid_amount" placeholder="Enter Paid Amount" style="display: none;">
					                 </div>
					                 <div class="form-group col-lg-9 col-md-12 col-sm-12 mb-4">
					                   <label>Add Customer</label>
					                   <select class="form-control form-control-sm select2" name="customer_id" id="customer_id">
					                     <option value="">Select Customer</option>
					                     <option>Masud Rana(017xxxxxxxx - Dhaka, Bangladesh)</option>
					                      <option>Rubel Ran(017xxxxxxxx - Dhaka, Bangladesh)</option>
					                       <option>Sapon Ahmed(017xxxxxxxx - Dhaka, Bangladesh)</option>
					                     <option value="0">New Customer</option>
					                   </select>
					                 </div>
					               </div>
					               <br>
					               <div class="row new_customer" style="display: none;">
					                 <div class="form-group col-lg-4 col-md-12 col-sm-12 mb-4">
					                   <input type="text" name="customer_name" class="form-control form-control-sm" id="customer_name" placeholder="Write Customer Name">
					                 </div>
					                 <div class="form-group col-lg-4 col-md-12 col-sm-12 mb-4">
					                   <input type="number" name="customer_phone" id="customer_phone" class="form-control form-control-sm" placeholder="Write Customer Phone">
					                 </div>
					                 <div class="form-group col-lg-4 col-md-12 col-sm-12 mb-4">
					                   <input type="text" name="customer_address" id="customer_address" class="form-control form-control-sm" placeholder="Write Customer Address">
					                 </div>
					               </div>
					               <br>
					               <div class="form-group">
					                 <button type="submit" class="btn btn-primary" id="storeButton">Invoice Store</button>
					               </div>
					            </form>
					          </div> <!-- .card-body -->

					        <div class="card-footer"></div>
						</div>
					</div>
				</div>

			</div>
		</section> <!-- .content end -->
		<!-- content section -->


		<footer class="footer_section">
			<div class="container-fluid">
				<div class="row">
					<div class="col-lg-12 col-md-12">
						<div class="footer">
							<p>Copyright &copy; 2021 webmvw all rights reserved</p>
							<p>Version 1.0</p>
						</div>
					</div>
				</div>
			</div>
		</footer>


	</section> <!-- .main_section end -->	


	<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
	<script src="https://canvasjs.com/assets/script/jquery.canvasjs.min.js"></script>

	<!-- JavaScript Bundle with Popper -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>

	<!-- datatable js -->
	<script type="text/javascript" src="../../plugins/dataTables/dataTables.min.js"></script>

	<!-- select2 -->
	<script src="../../plugins/select2/js/select2.min.js"></script>

	<!-- jquery form validatior -->
	<script type="text/javascript" src="../../plugins/jquery-validation/form-validator.js"></script>

	<!-- handlebar js -->
	<script type="text/javascript" src="../../plugins/handlebar/handlebar.js"></script>

	<!-- toastr js -->
	<script type="text/javascript" src="../../plugins/toastr/toastr.min.js"></script>





	<script type="text/javascript">
		// toggle menu for responsive
		function toggleMenu(){
			let navigation = document.querySelector('.navigation');
			let toggle = document.querySelector('.toggle');
			navigation.classList.toggle('active');
			toggle.classList.toggle('active');
		}
	</script>

	<script>
	  $(function () {
	    //Initialize Select2 Elements
	    $('.select2').select2()
	  });
	</script>




	<script type="text/javascript">
      $(function(){
        $(document).on('change', '#paid_status', function(){
          var paid_status = $(this).val();
          if(paid_status == 'Partical_Paid'){
            $('.paid_amount').show();
          }else{
            $('.paid_amount').hide();
          }
        });
      });
    </script>

    <script type="text/javascript">
      $(function(){
        $(document).on('change', '#customer_id', function(){
          var customer_id = $(this).val();
          if(customer_id == '0'){
            $('.new_customer').show();
          }else{
            $('.new_customer').hide();
          }
        });
      });
    </script>







    <!-- extra html for if existing event -->
    <script type="text/x-handlebars-template" id="document-template">
      <tr class="delete_add_more_item" id="delete_add_more_item">
        <input type="hidden" name="invoice_no" value="">
        <input type="hidden" name="date" value="">
        <td>
          <input type="hidden" name="category_id[]" id="category_id" value="">
          {{category_name}}
        </td>
        <td>
          <input type="hidden" name="product_id[]" value="">
          {{product_name}}
        </td>
        <td>
          <input type="number" min="1" class="form-control form-control-sm text-right selling_qty" name="selling_qty[]" value="1">
        </td>
        <td>
          <input type="number" class="form-control form-control-sm text-right unit_price" name="unit_price[]" value="" required>
        </td>
        <td>
          <input type="number" class="form-control form-control-sm text-right selling_price" name="selling_price[]" value="0" readonly>
        </td>
        <td><i class="btn btn-danger btn-sm fa fa-window-close removeeventmore"></i></td>
      </tr>
    </script>

  <script type="text/javascript">
    $(document).ready(function(){
      $(document).on('click', '.addeventmore', function(){
        var date = $('#date').val();
        var invoice_no = $('#invoice_no').val();
        var invoiceCategory_id = $('#invoiceCategory').val();
        var invoiceCategory_name = $('#invoiceCategory').find('option:selected').text();
        var invoiceProduct_id = $('#invoiceProduct').val();
        var invoiceProduct_name = $('#invoiceProduct').find('option:selected').text();

        if(date == ''){
          toastr.error("Date is required");
          return false;
        }
        if(invoice_no == ''){
          toastr.error("Invoice No is required");
          return false;
        }
        if(invoiceCategory_id == ''){
          toastr.error("Category is required");
          return false;
        }
        if(invoiceProduct_id == ''){
          toastr.error("Product is required");
          return false;
        }

        var source = $('#document-template').html();
        var template = Handlebars.compile(source);
        var data ={
          date:date,
          invoice_no:invoice_no,
          category_id:invoiceCategory_id,
          category_name:invoiceCategory_name,
          product_id:invoiceProduct_id,
          product_name:invoiceProduct_name,
        }
        var html = template(data);
        $('#addRow').append(html);
      });

      $(document).on('click', '.removeeventmore', function(event){
        $(this).closest('.delete_add_more_item').remove();
        totalAmountPrice();
      });

      $(document).on('keyup click', '.unit_price, .selling_price', function(){
        var unit_price = $(this).closest('tr').find('input.unit_price').val();
        var qty =$(this).closest('tr').find('input.selling_qty').val();
        var total = unit_price*qty;
        $(this).closest('tr').find('input.selling_price').val(total);
        $('#discount_amount').trigger('keyup');
      });

      $(document).on('keyup click', '#discount_amount', function(){
        totalAmountPrice();
      });

      //calculate sum of amount in invoice
      function totalAmountPrice(){
        var sum = 0;
        $('.selling_price').each(function(){
          var value = $(this).val();
          if(!isNaN(value) && value.length != 0){
            sum += parseFloat(value);
          }
        });
        var discount_amount = parseFloat($('#discount_amount').val());
        if (!isNaN(discount_amount) && discount_amount != 0) {
          sum -= parseFloat(discount_amount);
        }
        $('#estimated_amount').val(sum);
      }
    });
  </script>





</body>
</html>